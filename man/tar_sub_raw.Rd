% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/tar_sub_raw.R
\name{tar_sub_raw}
\alias{tar_sub_raw}
\title{Create multiple expressions with symbol substitution (raw version).}
\usage{
tar_sub_raw(expr, values)
}
\arguments{
\item{expr}{Expression object with the starting expression.
Values are iteratively substituted
in place of symbols in \code{expr} to create each new expression.}

\item{values}{List of values to substitute into \code{expr} to create
the expressions. All elements of \code{values} must have the same length.}
}
\value{
A list of expression objects.
}
\description{
Loop over a grid of values and create an expression object
from each one. Helps with general metaprogramming. Unlike \code{\link[=tar_sub]{tar_sub()}},
which quotes the \code{expr} argument, \code{tar_sub_raw()} assumes \code{expr}
is an expression object.
}
\examples{
# tar_map() is incompatible with tar_render() because the latter
# operates on preexisting tar_target() objects. By contrast,
# tar_eval_raw() and tar_sub_raw() iterate over code farther upstream.
values <- list(
  name = rlang::syms(c("name1", "name2")),
  file = c("file1.Rmd", "file2.Rmd")
)
tar_sub_raw(quote(tar_render(name, file)), values = values)
targets::tar_dir({
file.create(c("file1.Rmd", "file2.Rmd"))
# So in your _targets.R file, you can define a pipeline like as below.
# Just make sure to set a unique name for each target
# (which tar_map() does automatically).
values <- list(
  name = rlang::syms(c("name1", "name2")),
  file = c("file1.Rmd", "file2.Rmd")
)
targets::tar_pipeline(
  tar_eval_raw(quote(tar_render(name, file)), values = values)
)
})
}
